build-doc:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*doc.zip
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py312-cuda12x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X -r doc/requirements.txt -f dist
    - python doc/build.py --output dist
    stage: doc
    tags:
    - linux
    - py312
    - cuda126
    - doxygen
    variables:
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '312'
        PY_VER_DOT: '3.12'
        VENV: .ve
        VERBOSE: '1'
build-sdist:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.tar.gz
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    script:
    - python -m pip install build
    - python -m build --sdist . -v
    stage: sdist
    tags:
    - linux
    - py312
    variables:
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '312'
        PY_VER_DOT: '3.12'
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: ' '
        VORTEX_NUMPY_REQUIREMENT: numpy
publish-internal:
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    rules:
    -   if: $CI_COMMIT_BRANCH =~ /^(master|develop)$/
    -   if: $CI_COMMIT_TAG =~ /^v?[0-9]+[.][0-9]+([.][0-9]+)?$/
    -   if: $CI_PIPELINE_SOURCE == "web"
        when: manual
    script:
    - ls -lhgo dist/vortex*
    - python -m pip install twine
    - python -m twine upload --repository-url $REPOSITORY dist/vortex*.tar.gz dist/vortex*.whl
    stage: publish
    tags:
    - linux
    - py312
    variables:
        OS: linux
        PY_VER: '312'
        PY_VER_DOT: '3.12'
        REPOSITORY: ${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/pypi
        TWINE_PASSWORD: $CI_JOB_TOKEN
        TWINE_USERNAME: gitlab-ci-token
        VENV: .ve
stages:
- sdist
- bdist
- test
- doc
- publish
variables:
    FF_ENABLE_JOB_CLEANUP: 'true'
    GIT_CLONE_PATH: $CI_BUILDS_DIR/$CI_JOB_ID
workflow:
    rules:
    -   if: $CI_MERGE_REQUEST_IID
    -   if: $CI_COMMIT_BRANCH =~ /^(master|develop)$/
    -   if: $CI_COMMIT_TAG =~ /^v?[0-9]+[.][0-9]+([.][0-9]+)?$/
    -   if: $CI_PIPELINE_SOURCE == "web"

build-linux-py310-cuda11x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py310
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '310'
        PY_VER_DOT: '3.10'
        TEST_PKGS: cupy-cuda11x h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-linux-py310-cuda12x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py310
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '310'
        PY_VER_DOT: '3.10'
        TEST_PKGS: cupy-cuda12x h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
build-linux-py311-cuda11x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py311
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '311'
        PY_VER_DOT: '3.11'
        TEST_PKGS: cupy-cuda11x h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-linux-py311-cuda12x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py311
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '311'
        PY_VER_DOT: '3.11'
        TEST_PKGS: cupy-cuda12x h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
build-linux-py312-cuda11x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py312
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '312'
        PY_VER_DOT: '3.12'
        TEST_PKGS: cupy-cuda11x h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-linux-py312-cuda12x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py312
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '312'
        PY_VER_DOT: '3.12'
        TEST_PKGS: cupy-cuda12x h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
build-linux-py313-cuda11x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py313
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '313'
        PY_VER_DOT: '3.13'
        TEST_PKGS: cupy-cuda11x h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-linux-py313-cuda12x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py313
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '313'
        PY_VER_DOT: '3.13'
        TEST_PKGS: cupy-cuda12x h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
build-linux-py314-cuda11x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py314
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '314'
        PY_VER_DOT: '3.14'
        TEST_PKGS: h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-linux-py314-cuda12x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py314
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '314'
        PY_VER_DOT: '3.14'
        TEST_PKGS: h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
build-linux-py38-cuda11x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py38
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '38'
        PY_VER_DOT: '3.8'
        TEST_PKGS: cupy-cuda11x h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-linux-py38-cuda12x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py38
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '38'
        PY_VER_DOT: '3.8'
        TEST_PKGS: cupy-cuda12x h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
build-linux-py39-cuda11x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py39
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '39'
        PY_VER_DOT: '3.9'
        TEST_PKGS: cupy-cuda11x h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-linux-py39-cuda12x:
    after_script:
    - ls -lhgo dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    needs:
    - build-sdist
    script:
    - python .gitlab-ci/build-linux-docker.py
    stage: bdist
    tags:
    - linux
    - py39
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: linux
        PY_VER: '39'
        PY_VER_DOT: '3.9'
        TEST_PKGS: cupy-cuda12x h5py
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
build-windows-py310-cuda11x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py310
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '310'
        PY_VER_DOT: '3.10'
        TEST_PKGS: cupy-cuda11x
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-windows-py310-cuda12x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py310
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '310'
        PY_VER_DOT: '3.10'
        TEST_PKGS: cupy-cuda12x
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
build-windows-py311-cuda11x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py311
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '311'
        PY_VER_DOT: '3.11'
        TEST_PKGS: cupy-cuda11x
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-windows-py311-cuda12x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py311
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '311'
        PY_VER_DOT: '3.11'
        TEST_PKGS: cupy-cuda12x
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
build-windows-py312-cuda11x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py312
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '312'
        PY_VER_DOT: '3.12'
        TEST_PKGS: cupy-cuda11x
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-windows-py312-cuda12x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py312
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '312'
        PY_VER_DOT: '3.12'
        TEST_PKGS: cupy-cuda12x
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
build-windows-py313-cuda11x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py313
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '313'
        PY_VER_DOT: '3.13'
        TEST_PKGS: cupy-cuda11x
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-windows-py313-cuda12x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py313
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '313'
        PY_VER_DOT: '3.13'
        TEST_PKGS: cupy-cuda12x
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
build-windows-py314-cuda11x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py314
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '314'
        PY_VER_DOT: '3.14'
        TEST_PKGS: ''
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-windows-py314-cuda12x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py314
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '314'
        PY_VER_DOT: '3.14'
        TEST_PKGS: ''
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
build-windows-py38-cuda11x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py38
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '38'
        PY_VER_DOT: '3.8'
        TEST_PKGS: cupy-cuda11x
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-windows-py38-cuda12x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py38
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '38'
        PY_VER_DOT: '3.8'
        TEST_PKGS: cupy-cuda12x
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
build-windows-py39-cuda11x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py39
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '39'
        PY_VER_DOT: '3.9'
        TEST_PKGS: cupy-cuda11x
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda11x
build-windows-py39-cuda12x:
    after_script:
    - ls dist/vortex*
    artifacts:
        paths:
        - dist/vortex*.whl
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - Import-Module "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools\Common7\Tools\Microsoft.VisualStudio.DevShell.dll"
    - Enter-VsDevShell -VsInstallPath "C:\Program Files (x86)\Microsoft Visual Studio\2022\BuildTools" -DevCmdArguments "-arch=x64"
    needs:
    - build-sdist
    script:
    - python -m pip wheel (Get-Item dist/vortex*.tar.gz) -w dist -v
    stage: bdist
    tags:
    - windows
    - vs2022
    - py39
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        GIT_DEPTH: '0'
        OS: windows
        PY_VER: '39'
        PY_VER_DOT: '3.9'
        TEST_PKGS: cupy-cuda12x
        VCPKG_MANIFEST_FEATURES: alazar;alazar-dac;teledyne;asio;backward;cuda;fftw;daqmx;imaq;hdf5;reflexxes
        VERBOSE: '1'
        VORTEX_BUILD_SUFFIX: -cuda12x
test-linux-py310-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py310-cuda11x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py310
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: linux
        PY_VER: '310'
        PY_VER_DOT: '3.10'
        TEST_PKGS: cupy-cuda11x h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-linux-py310-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py310-cuda12x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py310
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: linux
        PY_VER: '310'
        PY_VER_DOT: '3.10'
        TEST_PKGS: cupy-cuda12x h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x
test-linux-py311-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py311-cuda11x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py311
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: linux
        PY_VER: '311'
        PY_VER_DOT: '3.11'
        TEST_PKGS: cupy-cuda11x h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-linux-py311-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py311-cuda12x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py311
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: linux
        PY_VER: '311'
        PY_VER_DOT: '3.11'
        TEST_PKGS: cupy-cuda12x h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x
test-linux-py312-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py312-cuda11x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py312
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: linux
        PY_VER: '312'
        PY_VER_DOT: '3.12'
        TEST_PKGS: cupy-cuda11x h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-linux-py312-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py312-cuda12x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py312
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: linux
        PY_VER: '312'
        PY_VER_DOT: '3.12'
        TEST_PKGS: cupy-cuda12x h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x
test-linux-py313-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py313-cuda11x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py313
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: linux
        PY_VER: '313'
        PY_VER_DOT: '3.13'
        TEST_PKGS: cupy-cuda11x h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-linux-py313-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py313-cuda12x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py313
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: linux
        PY_VER: '313'
        PY_VER_DOT: '3.13'
        TEST_PKGS: cupy-cuda12x h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x
test-linux-py314-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py314-cuda11x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py314
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: linux
        PY_VER: '314'
        PY_VER_DOT: '3.14'
        TEST_PKGS: h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-linux-py314-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py314-cuda12x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py314
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: linux
        PY_VER: '314'
        PY_VER_DOT: '3.14'
        TEST_PKGS: h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x
test-linux-py38-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py38-cuda11x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py38
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: linux
        PY_VER: '38'
        PY_VER_DOT: '3.8'
        TEST_PKGS: cupy-cuda11x h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-linux-py38-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py38-cuda12x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py38
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: linux
        PY_VER: '38'
        PY_VER_DOT: '3.8'
        TEST_PKGS: cupy-cuda12x h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x
test-linux-py39-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py39-cuda11x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py39
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: linux
        PY_VER: '39'
        PY_VER_DOT: '3.9'
        TEST_PKGS: cupy-cuda11x h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-linux-py39-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - shopt -s expand_aliases
    - alias python="/usr/local/python$PY_VER_DOT/bin/python$PY_VER_DOT"
    - python -V
    - python -m venv $VENV
    - . $VENV/bin/activate
    - alias python="$VENV/bin/python$PY_VER_DOT"
    needs:
    - build-linux-py39-cuda12x
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - linux
    - py39
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: linux
        PY_VER: '39'
        PY_VER_DOT: '3.9'
        TEST_PKGS: cupy-cuda12x h5py
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x
test-windows-py310-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py310-cuda11x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py310
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: windows
        PY_VER: '310'
        PY_VER_DOT: '3.10'
        TEST_PKGS: cupy-cuda11x
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-windows-py310-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py310-cuda12x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py310
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: windows
        PY_VER: '310'
        PY_VER_DOT: '3.10'
        TEST_PKGS: cupy-cuda12x
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x
test-windows-py311-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py311-cuda11x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py311
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: windows
        PY_VER: '311'
        PY_VER_DOT: '3.11'
        TEST_PKGS: cupy-cuda11x
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-windows-py311-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py311-cuda12x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py311
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: windows
        PY_VER: '311'
        PY_VER_DOT: '3.11'
        TEST_PKGS: cupy-cuda12x
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x
test-windows-py312-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py312-cuda11x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py312
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: windows
        PY_VER: '312'
        PY_VER_DOT: '3.12'
        TEST_PKGS: cupy-cuda11x
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-windows-py312-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py312-cuda12x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py312
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: windows
        PY_VER: '312'
        PY_VER_DOT: '3.12'
        TEST_PKGS: cupy-cuda12x
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x
test-windows-py313-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py313-cuda11x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py313
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: windows
        PY_VER: '313'
        PY_VER_DOT: '3.13'
        TEST_PKGS: cupy-cuda11x
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-windows-py313-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py313-cuda12x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py313
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: windows
        PY_VER: '313'
        PY_VER_DOT: '3.13'
        TEST_PKGS: cupy-cuda12x
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x
test-windows-py314-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py314-cuda11x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py314
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: windows
        PY_VER: '314'
        PY_VER_DOT: '3.14'
        TEST_PKGS: ''
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-windows-py314-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py314-cuda12x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py314
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: windows
        PY_VER: '314'
        PY_VER_DOT: '3.14'
        TEST_PKGS: ''
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x
test-windows-py38-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py38-cuda11x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py38
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: windows
        PY_VER: '38'
        PY_VER_DOT: '3.8'
        TEST_PKGS: cupy-cuda11x
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-windows-py38-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py38-cuda12x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py38
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: windows
        PY_VER: '38'
        PY_VER_DOT: '3.8'
        TEST_PKGS: cupy-cuda12x
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x
test-windows-py39-cuda11x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py39-cuda11x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py39
    - cuda118
    variables:
        CUDAARCHS: 50;52;61;75;86
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '118'
        CUDA_VER_DOT: '11.8'
        CUDA_VER_X: 11x
        OS: windows
        PY_VER: '39'
        PY_VER_DOT: '3.9'
        TEST_PKGS: cupy-cuda11x
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda11x
test-windows-py39-cuda12x:
    artifacts:
        reports:
            junit: report-*.xml
        when: always
    before_script:
    - $env:Path = "$env:Path;$CUDA_PATH\bin"
    - Set-Alias -Name python -Value "C:\Program Files\Python$PY_VER\python.exe"
    - python -V
    - python -m venv $VENV
    - .ve\Scripts\Activate.ps1
    - Set-Alias -Name python -Value "$VENV\Scripts\python.exe"
    needs:
    - build-windows-py39-cuda12x
    retry: 1
    script:
    - python -m pip install vortex-oct-cuda$CUDA_VER_X $TEST_PKGS -r test/requirements.txt -f dist
    - python -m pytest -p no:faulthandler test/offline -v --junitxml=report-${OS}-py${PY_VER}-cuda${CUDA_VER_X}.xml
    stage: test
    tags:
    - windows
    - py39
    - cuda126
    variables:
        CUDAARCHS: 50;52;61;75;86;89
        CUDAToolkit_ROOT: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v$CUDA_VER_DOT
        CUDA_PATH: $CUDAToolkit_ROOT
        CUDA_VER: '126'
        CUDA_VER_DOT: '12.6'
        CUDA_VER_X: 12x
        OS: windows
        PY_VER: '39'
        PY_VER_DOT: '3.9'
        TEST_PKGS: cupy-cuda12x
        VENV: .ve
        VORTEX_BUILD_SUFFIX: -cuda12x

